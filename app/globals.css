@import 'tailwindcss';

@layer utilities {
  .font-thin {
    font-variation-settings: 'wght' 100, var(--sans-variation);
  }
  .font-extralight {
    font-variation-settings: 'wght' 200, var(--sans-variation);
  }
  .font-light {
    font-variation-settings: 'wght' 300, var(--sans-variation);
  }
  .font-normal {
    font-variation-settings: 'wght' 440, var(--sans-variation);
  }
  .font-medium {
    font-variation-settings: 'wght' 500, var(--sans-variation);
  }
  .font-semibold {
    font-variation-settings: 'wght' 600, var(--sans-variation);
    font-weight: unset;
  }
  .font-bold {
    font-variation-settings: 'wght' 700, var(--sans-variation);
  }
  .font-extrabold {
    font-variation-settings: 'wght' 800, var(--sans-variation);
  }
  .font-black {
    font-variation-settings: 'wght' 900, var(--sans-variation);
  }
}

@theme {
  --color-rurikon-50: #ebedef;
  --color-rurikon-100: #d8dbdf;
  --color-rurikon-200: #b3b9c1;
  --color-rurikon-300: #8c95a1;
  --color-rurikon-400: #697381;
  --color-rurikon-500: #4a515b;
  --color-rurikon-600: #3b4149;
  --color-rurikon-700: #2b3035;
  --color-rurikon-800: #1e2125;
  --color-rurikon-900: #0e0f11;
  --color-rurikon-950: #07080;

  --font-family-sans: var(--sans), ui-sans-serif, system-ui, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  --font-family-serif: var(--serif), ui-serif, Georgia, Cambria,
    'Times New Roman', Times, serif;
}

:root {
  --sans-variation: 'opsz' 32;
  --font-features: 'cpsp' 1, 'dlig' 1, 'cv01', 'cv03', 'cv04', 'cv09', 'calt',
    'ss03', 'liga', 'ordn';
}

body {
  font-family: var(--sans), system-ui, -apple-system, BlinkMacSystemFont,
    'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue',
    sans-serif;
  font-size: 16px;
  font-feature-settings: var(--font-features);
  font-variation-settings: 'wght' 440, var(--sans-variation);
  font-variant: common-ligatures contextual;
  text-decoration-skip-ink: auto;
  text-spacing-trim: space-first;
  font-optical-sizing: auto;
  letter-spacing: 0.005em;
  word-spacing: -0.04em;
  background-color: #fcfcfc;
}

i,
em,
blockquote,
nav {
  font-family: var(--serif), Baskerville, Georgia, Cambria, 'Times New Roman',
    Times, serif;
  font-style: initial;
  font-optical-sizing: auto;
  font-variation-settings: 'wght' 480, var(--sans-variation);
  font-weight: 400;
  font-variant-ligatures: contextual;
  letter-spacing: -0.006em;
}

blockquote {
  border-left: 1px solid var(--color-rurikon-300);
  padding-left: 2.5rem;
  margin-left: -2.5rem;
}

main {
  hanging-punctuation: first allow-end last;
  hyphens: auto;
  hyphenate-limit-chars: 10 5 5;
}

*::selection {
  background: #95a5ac40;
  color: #485a74;
}

.dot-leaders {
  text-align: end;
  height: 1em;
  overflow: hidden;
  word-wrap: break-word;
  letter-spacing: 6px;
}

.dot-leaders::after {
  content: '······································································';
}

a {
  cursor: default;
}

@supports (view-transition-name: none) {
  @media not (prefers-reduced-motion: reduce) {
    article {
      view-transition-name: article;
    }

    ::view-transition-old(article) {
      animation: hide 0.3s ease 1 forwards 0.2s;
    }

    ::view-transition-new(article) {
      opacity: 0;
      animation: appear 1.5s ease 1 forwards;
    }
  }
}

@keyframes hide {
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
    filter: blur(2px);
  }
}

@keyframes appear {
  0% {
    opacity: 1;
    filter: blur(6px);
    mask: linear-gradient(90deg, #000 25%, #000000e6 50%, #00000000) 150% 0 /
      400% no-repeat;
  }

  80% {
    filter: blur(0);
    opacity: 1;
  }

  100% {
    opacity: 1;
    mask: linear-gradient(90deg, #000 25%, #000000e6 50%, #00000000) 0 / 400%
      no-repeat;
  }
}
